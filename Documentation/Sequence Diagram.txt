@startuml
hide footbox
participant Client
loop Every X interval
Server -> Server: cleanCache()
end
Client -> Server: connect()
Server -> Server: generateToken()
Server -> Client: updateToken(string token)
note right of Client: Token is used for encryption
Client -> Server: sendUrl(string encryptedUrl)
Server -> Server: checkCache(string url)
alt if url doesn't exists in cache
Server -> ExternalWebsite: requestHTML(string url)
ExternalWebsite --> Server: return HTML
Server -> Server: cache(cacheObject)
note right of Server: cacheObject{client.id, timeStamp, URL, HTML}
end
Server -> Client: updateClient(string encryptedHTML)
Client -> Client: handleHTML(string HTML)

alt Client Closed
	Client -> Server: onClose()
	Server -> Server: cleanUp(client.id)
end
@enduml